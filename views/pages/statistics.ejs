<!-- views/pages/statistics.ejs -->
<%- include('../partials/header') %>
<%- include('../partials/navbar') %>
<%- include('../partials/sidebar') %>

<!-- Content Wrapper -->
<div class="content-wrapper">
  <div class="container mt-3">
    <!-- Content Header -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Product Statistics</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="/">Home</a></li>
              <li class="breadcrumb-item active">Statistics</li>
            </ol>
          </div>
        </div>
      </div>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <!-- Most Sold Products -->
        <div class="row">
          <div class="col-lg-5">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Inventory Status</h3>
              </div>
              <div class="card-body">
                <canvas id="inventory-status-chart"></canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Most Sold Products</h3>
              </div>
              <div class="card-body">
                <canvas id="most-sold-chart"></canvas>
              </div>
            </div>
          </div>

        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Most Liked Products</h3>
              </div>
              <div class="card-body">
                <canvas id="most-liked-chart"></canvas>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>
  </div>
  <div class="container mt-3">

    <!-- Script for rendering charts -->
    <script>

  document.addEventListener('DOMContentLoaded', function () {

    // Most Sold Products Chart
    const mostSoldCtx = document.getElementById('most-sold-chart').getContext('2d');
    new Chart(mostSoldCtx, {
      type: 'bar',
      data: {
        labels: ['Product 1', 'Product 2', 'Product 3', 'Product 4', 'Product 5'],
        datasets: [{
          label: 'Units Sold',
          data: [20, 15, 30, 25, 10],
          backgroundColor: 'rgba(75, 192, 192, 0.2)',
          borderColor: 'rgba(75, 192, 192, 1)',
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Most Liked Products Chart
    const mostLikedCtx = document.getElementById('most-liked-chart').getContext('2d');
    new Chart(mostLikedCtx, {
      type: 'bar',
      data: {
        labels: ['Product 1', 'Product 2', 'Product 3', 'Product 4', 'Product 5'],
        datasets: [{
          label: 'Likes',
          data: [50, 30, 70, 40, 20],
          backgroundColor: 'rgba(153, 102, 255, 0.2)',
          borderColor: 'rgba(153, 102, 255, 1)',
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Inventory Status Chart
    const inventoryStatusCtx = document.getElementById('inventory-status-chart').getContext('2d');
    new Chart(inventoryStatusCtx, {
      type: 'pie',
      data: {
        labels: ['Available', 'Out of Stock'],
        datasets: [{
          label: 'Inventory Status',
          data: [80, 20],
          backgroundColor: ['rgba(54, 162, 235, 0.2)', 'rgba(255, 99, 132, 0.2)'],
          borderColor: ['rgba(54, 162, 235, 1)', 'rgba(255, 99, 132, 1)'],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top',
          },
        }
      }
    });
    });
</script>

    <%- include('../partials/footer') %>
